# Курсы для бота Winterview
Бот: https://winterview.ru/bot

### Что ещё за курсы?
На самом деле, это никакие не курсы. Это интерактивные, обучающие рассылки: помимо текста, в них можно жать кнопки и получать какой-то результат.  
Какой именно результат: учёт и статистика правильных ответов на вопросы, дополнительные материалы к постам или разные концовки, как в старых-добрых текстовых квестах — зависит от создателя конкретной рассылки.

Создать свой курс или квест совсем несложно. Потребуется много текста и совсем немного кодинга на JavaScript.

## Список курсов
| ID | Описание | Цель |
|---|---|---|
| coding-course | В течение недели, каждый день приходит новая задачка. | Подготовка к собеседованиям с задачками |
| interview-preparation | В течение недели, каждый день приходит текст для подготовки к собеседованиям. | Подготовка к разговорным собеседованиям |
| winterview-posts | 7 дней подряд приходит один из самых залайканных постов | Знакомство с лучшиеми постами на канале, повторение важных аспектов |

## Создать свой курс
1. В директории `src/courses` создайте новую с названием курса (строчные буквы, цифры, дефисы)
1. Создайте файл `.ts`, который будет называться так же, как и созданная директория
1. В файле `.env` замените название директории до вашего курса 
1. [Почитайте, какие поля за что отвечают](src/courses/typings.d.ts)
1. Напишите свой курс
1. Создайте PR
1. Дорисуйте остальную сову

### Как отправлять изображения
В параметрах метода `send` предусмотрена отправка изображений. Посмотрите, как это сделано в [coding-course](src/courses/coding-course/coding-course.ts:32).  
Параметр `message`, в таком случае, выступает описанием (caption) изображения.  
Отправленное изображение нельзя отредактировать из action'а, но его описание — можно.

### Как сделать изображения кода с подсветкой
1. В директории вашего курса создайте 2 новые директории: `_processCodeToImage` и `codeImages`.
1. Положите в `_processCodeToImage` файлы с кодом. Дополнительная вложенность не предусмотрена.
1. Запустите `yarn build`
1. Спустя одну вечность, в папке `codeImages` появятся png-файлы с такими же именами, что и у файлов с кодом.
1. Отправьте эти изображения из курса, используя метод `send`, как описано выше.

## Отладка
`yarn`  
`yarn start`  

![](https://user-images.githubusercontent.com/584632/73128583-a284ea80-3fe2-11ea-9c6d-0ef29d8a71e3.gif)